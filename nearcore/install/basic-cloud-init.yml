#cloud-config
hostname: guildnet
package_update: true
package_upgrade: true
packages: [curl, snapd, wget, git, htop, iperf, nano, python3, python3-pip, debian-keyring, zip, unzip, gzip, wget, nano, nmap, mlocate, net-tools, inetutils-traceroute, apt-transport-tor,  apt-transport-https, software-properties, fail2ban, rkhunter]
preserve_sources_list: true
disable_suites: [$RELEASE-updates, $RELEASE-backports, $RELEASE]
write_files:
  - encoding: b64
    content: IyEvYmluL2Jhc2gNCnNldCAtZXUNCmVjaG8gIiogU3RhcnRpbmcgdGhlIEdVSUxETkVUIGNvbXBpbGUgcHJvY2VzcyINCg0KIyBTY3JpcHQgc2V0dGluZ3MgDQpSRUxFQVNFPSQobHNiX3JlbGVhc2UgLWMgLXMpDQpORUFSX1ZFUlNJT049MS4xNi4yLWd1aWxkbmV0DQpORUFSX1JFUE89Imh0dHBzOi8vZ2l0aHViLmNvbS9jcnlwdG8tZ3V5cy9uZWFyY29yZS5naXQiDQp2bV9uYW1lPSJjb21waWxlciINCg0KZWNobyAiKiBMYXVuY2hpbmcgTFhDIGNvbnRhaW5lciB0byBidWlsZCBpbiINCmx4YyBsYXVuY2ggdWJ1bnR1OmZvY2FsICR7dm1fbmFtZX0NCmVjaG8gIiogUGF1c2luZyBmb3IgNjAgc2Vjb25kcyB3aGlsZSB0aGUgY29udGFpbmVyIGluaXRpYWxpemVzIg0Kc2xlZXAgNjANCiNseGMgZXhlYyBzY3JpcHQtdGVzdCAvYmluL2Jhc2ggLS1mb3JjZS1ub25pbnRlcmFjdGl2ZQ0KDQplY2hvICIqIEluc3RhbGwgUmVxdWlyZWQgUGFja2FnZXMiDQpseGMgZXhlYyAke3ZtX25hbWV9IC0tIC91c3IvYmluL2FwdC1nZXQgLXFxIHVwZGF0ZQ0KbHhjIGV4ZWMgJHt2bV9uYW1lfSAtLSAvdXNyL2Jpbi9hcHQtZ2V0IC1xcSB1cGdyYWRlDQpseGMgZXhlYyAke3ZtX25hbWV9IC0tIC91c3IvYmluL2FwdC1nZXQgLXFxIGF1dG9yZW1vdmUNCmx4YyBleGVjICR7dm1fbmFtZX0gLS0gL3Vzci9iaW4vYXB0LWdldCAtcXEgYXV0b2NsZWFuDQpseGMgZXhlYyAke3ZtX25hbWV9IC0tIC91c3IvYmluL2FwdC1nZXQgLXFxIGluc3RhbGwgZ2l0IGN1cmwgbGliY2xhbmctZGV2IGJ1aWxkLWVzc2VudGlhbCBpcGVyZiBsbHZtIHJ1bmMgZ2NjIGcrKyBnKystbXVsdGlsaWIgbWFrZSBjbWFrZSBjbGFuZyBwa2ctY29uZmlnIGxpYnNzbC1kZXYgbGlidWRldi1kZXYgbGlieDMyc3RkYysrNi03LWRiZyBsaWIzMnN0ZGMrKzYtNy1kYmcgcHl0aG9uMy1kZXYNCmx4YyBleGVjICR7dm1fbmFtZX0gLS0gL3Vzci9iaW4vc25hcCBpbnN0YWxsIHJ1c3R1cCAtLWNsYXNzaWMNCmx4YyBleGVjICR7dm1fbmFtZX0gLS0gL3NuYXAvYmluL3J1c3R1cCBkZWZhdWx0IG5pZ2h0bHkNCmx4YyBleGVjICR7dm1fbmFtZX0gLS0gL3NuYXAvYmluL3J1c3R1cCBjb21wb25lbnQgYWRkIGNsaXBweS1wcmV2aWV3DQpseGMgZXhlYyAke3ZtX25hbWV9IC0tIC9zbmFwL2Jpbi9ydXN0dXAgdXBkYXRlDQoNCmVjaG8gIiogQ2xvbmluZyB0aGUgZ2l0aHViIHNvdXJjZSINCmx4YyBleGVjICR7dm1fbmFtZX0gLS0gc2ggLWMgInJtIC1yZiAvdG1wL3NyYyAmJiBta2RpciAtcCAvdG1wL3NyYy8gJiYgZ2l0IGNsb25lICRORUFSX1JFUE8gL3RtcC9zcmMvbmVhcmNvcmUiDQplY2hvICIqIFN3aXRjaGluZyBWZXJzaW9uIg0KbHhjIGV4ZWMgJHt2bV9uYW1lfSAtLSBzaCAtYyAiY2QgL3RtcC9zcmMvbmVhcmNvcmUgJiYgZ2l0IHN3aXRjaCAxLjE2LjItZ3VpbGRuZXQiDQplY2hvICIqIEF0dGVtcHRpbmcgdG8gY29tcGlsZSINCmx4YyBleGVjICR7dm1fbmFtZX0gLS0gc2ggLWMgImNkIC90bXAvc3JjL25lYXJjb3JlICYmIG1ha2UgcmVsZWFzZSINCg0KZWNobyAiKiBDcmVhdGluZyB0YXJiYWxsIGZvciBlYXN5IHJldHJpZXZhbCINCmx4YyBleGVjICR7dm1fbmFtZX0gLS0gc2ggLWMgIm1rZGlyIC1wIC9iaW5hcmllcy9jb21wcmVzc2VkICYmIGNkIC90bXAvc3JjL25lYXJjb3JlL3RhcmdldC9yZWxlYXNlLyAmJiBjcCAtcCBnZW5lc2lzLWNzdi10by1qc29uIGtleXBhaXItZ2VuZXJhdG9yIG5lYXIgbmVhci12bS1ydW5uZXItc3RhbmRhbG9uZSBuZWFyZCBzdGF0ZS12aWV3ZXIgc3RvcmUtdmFsaWRhdG9yIC9iaW5hcmllcyINCmx4YyBleGVjICR7dm1fbmFtZX0gLS0gc2ggLWMgImNkIC9iaW5hcmllcy9jb21wcmVzc2VkICYmIHRhciAtY3ZmIG5lYXJjb3JlMS4xNi4yLWd1aWxkbmV0LnRhciAtQyAvIGJpbmFyaWVzIg0KDQplY2hvICIqIFRoZSBuZWFyY29yZSBiaW5hcmllcyBhcmUgbm93IGluIGEgdGFyYmFsbCBpbiB0aGUgbHhjIGNvbnRhaW5lciBhdCAvYmluYXJpZXMvY29tcHJlc3NlZC9uZWFyY29yZTEuMTYuMi1ndWlsZG5ldC50YXIiDQplY2hvICIqIFJldHJpdmluZyB0aGUgdGFyYmFsbCBhbmQgc3RvcmluZyBpbiB0aGUgZGlyZWN0b3J5IC91c3IvbG9jYWwvc3JjIg0KbHhjIGZpbGUgcHVsbCAke3ZtX25hbWV9L2JpbmFyaWVzL2NvbXByZXNzZWQvbmVhcmNvcmUxLjE2LjItZ3VpbGRuZXQudGFyIC91c3IvbG9jYWwvc3JjDQpscyAvdXNyL2xvY2FsL3NyYyB8IGdyZXAgZ3VpbGRuZXQNCg0KZWNobyAiKiBUaGUgYnVpbGQgd2FzIHN1Y2Nlc3NmdWwi
    owner: root:root
    path: /usr/local/bin/compiler
    permissions: '0667'
  - encoding: b64
    content: < base 64 encoded sshd_config file >
    owner: root:root
    path: /etc/ssh/sshd_config
    permissions: '0644'
  - encoding: b64
    content: IyEvYmluL2Jhc2gNCnNldCAtZXUNCmVjaG8gIiogR3VpbGRuZXQgSW5zdGFsbCBTY3JpcHQgUnVubmluZyINCg0KIyBTY3JpcHQgc2V0dGluZ3MNCkFDQ09VTlRfSUQ9PHlvdXJfdmFsaWRhdG9yX2FjY291bnQ+DQpDT05GSUdfVVJMPSJodHRwczovL3MzLnVzLWVhc3QtMi5hbWF6b25hd3MuY29tL2J1aWxkLm9wZW5zaGFyZHMuaW8vbmVhcmNvcmUtZGVwbG95L2d1aWxkbmV0L2NvbmZpZy5qc29uIg0KDQplY2hvICIqIFNldHRpbmcgdXAgcmVxdWlyZWQgYWNjb3VudHMsIGdyb3VwcywgYW5kIHByaXZpbGFnZXMiDQphZGR1c2VyIC0tc3lzdGVtIC0tZGlzYWJsZWQtbG9naW4gLS1kaXNhYmxlZC1wYXNzd29yZCAtLWluZ3JvdXAgc3lzbG9nIC0tbm8tY3JlYXRlLWhvbWUgbmVhcmQtZ3VpbGRuZXQNCmdyb3VwYWRkIG5lYXINCnVzZXJtb2QgLWFHIHN5c2xvZyBuZWFyZC1ndWlsZG5ldA0KdXNlcm1vZCAtYUcgbmVhciBuZWFyZC1ndWlsZG5ldA0KDQojIFNldCBlbnYgdmFyaWFibGUgaXMgbm90IHJlYWxseSByZXF1aXJlZCB1bmxlc3MgeW91IHVzZSB0aGUgbmVhci1jbGkgb24gc2FtZSBtYWNoaW5lDQojIGV4cG9ydCBOT0RFX0VOVj1ndWlsZG5ldA0KDQojIENvcHkgR3VpbGRuZXQgRmlsZXMgdG8gYSBzdWl0YWJsZSBsb2NhdGlvbg0KbWtkaXIgLXAgL3Zhci9saWIvbmVhci9ndWlsZG5ldA0KdGFyIC14ZiBuZWFyY29yZTEuMTYuMi1ndWlsZG5ldC50YXINCmNkIGJpbmFyaWVzDQojIFJlbW92ZSB0aGUgZXh0cmEgZm9sZGVyDQpybSAtcmYgY29tcHJlc3NlZC8NCmNwICogL3Vzci9sb2NhbC9iaW4NCg0KZWNobyAnKiBHZXR0aW5nIHRoZSBjb3JyZWN0IGZpbGVzIGFuZCBmaXhpbmcgcGVybWlzc2lvbnMnDQpuZWFyZCAtLWhvbWUgL3Zhci9saWIvbmVhci9ndWlsZG5ldC8gLS1kb3dubG9hZC1nZW5lc2lzIC0tY2hhaW4taWQgZ3VpbGRuZXQgLS1hY2NvdW50LWlkICRBQ0NPVU5UX0lEDQp3Z2V0ICRDT05GSUdfVVJMIC1PIC92YXIvbGliL25lYXIvZ3VpbGRuZXQvY29uZmlnLmpzb24NCmNob3duIC1SIG5lYXJkLWd1aWxkbmV0Om5lYXIgLVIgL3Zhci9saWIvbmVhcg0KDQplY2hvICIqIENyZWF0aW5nIHN5c3RlbWQgdW5pdCBmaWxlIGZvciBORUFSIHZhbGlkYXRvciBzZXJ2aWNlIg0KY2F0ID4gL2xpYi9zeXN0ZW1kL3N5c3RlbS9uZWFyZC1ndWlsZG5ldC5zZXJ2aWNlIDw8RU9GDQpbVW5pdF0NCkRlc2NyaXB0aW9uPU5FQVIgR1VJTERORVQgVmFsaWRhdG9yIFNlcnZpY2UNCkRvY3VtZW50YXRpb249aHR0cHM6Ly9naXRodWIuY29tL25lYXJwcm90b2NvbC9uZWFyY29yZQ0KV2FudHM9bmV0d29yay1vbmxpbmUudGFyZ2V0DQpBZnRlcj1uZXR3b3JrLW9ubGluZS50YXJnZXQNCltTZXJ2aWNlXQ0KVXNlcj1uZWFyZC1ndWlsZG5ldA0KR3JvdXA9bmVhcg0KRXhlY1N0YXJ0PW5lYXJkIC0taG9tZSAvdmFyL2xpYi9uZWFyL2d1aWxkbmV0IHJ1bg0KIyBVbmNvbW1lbnQgdGhlIGJlbG93IGxpbmUgdG8gbG9nIHRvIGEgZmlsZSByYXRoZXIgdGhhbiB0aGUgam91cm5hbA0KI1N0YW5kYXJkT3V0cHV0PWFwcGVuZDovdmFyL2xvZy9ndWlsZG5ldC5sb2cNCltJbnN0YWxsXQ0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQNCkVPRg0KDQpsbiAtcyAvbGliL3N5c3RlbWQvc3lzdGVtL25lYXItZ3VpbGRuZXQtdmFsaWRhdG9yLnNlcnZpY2UgL2V0Yy9zeXN0ZW1kL3N5c3RlbS9tdWx0aS11c2VyLnRhcmdldC53YW50cy9uZWFyLWd1aWxkbmV0LXZhbGlkYXRvci5zZXJ2aWNlDQoNCmVjaG8gJyogVGhlIGluc3RhbGxhdGlvbiBoYXMgY29tcGxldGVkJw==
    owner: root:root
    path: /usr/local/bin/installer
    permissions: '0667' 
groups:
  - cloud-users: []
  - docker: []
users:
  - name: <username>
    gecos: <Name>
    Password: "$6$rounds=4096" hashed password
    no_user_group: false
    homedir: /home/<username>
    primary_group: <username>
    sudo: ALL=(ALL) NOPASSWD:ALL
    groups: [users, cloud-users, adm, video, plugdev, dip, netdev]
    shell: /bin/bash
    ssh_authorized_keys:
      - ssh-rsa <goes here>
    inactive: false
    lock_passwd: false 
    uid: 1000
